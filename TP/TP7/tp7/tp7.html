<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>

<link rel="stylesheet" type="text/css" href="css/style.css"></head><body>
    
    <div id="container">
        <div id="header">
            <div id="header_toprow">
                Conservatoire national des arts et métiers
            </div>
            <div id="header_title">
                NFP121 : Programmation avancée<br>
                TP n° 7 - Introspection
            </div>
        </div>
        <div id="content">

            <div class="paragraphe">
                Thèmes du TP :<br>
                <ul>
                    <li>Introspection</li>
                </ul>
                <br>
                Lecture préalable :
                <ul>
                    <li>Le cours et ses annexes...</li>
                    <li>Le <a href="http://docs.oracle.com/javase/tutorial/reflect/index.html" target="_blank">tutorial d'Oracle</a> sur l'introspection en Java</li>
                </ul>
                <br>
            </div>
            <hr>

            <div class="question">
                <img src="images/preliminaire.png" height="80" width="111">
                <span>Préliminaire indispensable</span>
            </div>

            <div class="paragraphe">
                Utiliser BlueJ afin de déclencher par introspection quelques méthodes de la classe java.lang.Math<br>
                <br>
                Menu <b>Outils</b>, item <b>Utiliser une classe de bibliothèque...</b>
            </div>

            <p align="center">
                <img class="win_screenshot" src="images/bluej1.png" height="579" width="720">
            </p>

            <div class="paragraphe">
                <b>Déclenchez plusieurs méthodes et vérifiez les résultats obtenus</b>
            </div>
            <br>
            <hr>

            <div class="question">
                <img src="images/question1.png" height="80" width="101">
                <span>Une "calculette scientifique"</span>
            </div>

            <div class="paragraphe">
Développer maintenant une "calculette", en déclenchant par
introspection une des méthodes de la classe java.lang.Math, seules les
méthodes retournant un "double", attendant un ou deux paramètres de
type double sont sélectionnables.<br>
                <br>
                Exemples de scenarii<br>
                <br>
                Une interface utilisateur de cette calculette :
            </div>
            <br>
            <p align="center">
                Trace 1 : Appel de double sqrt(double) ici sqrt(9.0)<br>
                <img class="win_screenshot" src="images/bluej2.png" height="114" width="520">
            </p>

            <p align="center">
                Trace 2 : Appel de double max(double,double) ici max(9.0,12.0)<br>
                <img class="win_screenshot" src="images/bluej3.png" height="114" width="520">
            </p>

            <div class="paragraphe">
                <font color="#000000">

            <p align="center">
                &nbsp;</p>

            <div class="paragraphe">
                <b>Comportement attendu de la calculette :</b><br>
                <ul>
                    <li><b>dans le même répertoire que cet énoncé :</b><br>
                        <b><font size="3">tp7/&gt; java -jar calculette.jar</font></b></li>
                    
                </ul>
            </div>

                </font>Complétez la classe <b>TableMethodesJavaLangMath</b>, la classe Calculette est fournie.<br>
                <br>

                <ul>
                    <li>La classe <b>TableMethodesJavaLangMath</b> est un Singleton (une référence
                    <a target="_blank" href="http://www.buyya.com/254/Patterns/">ici</a>), cette table contient certaines méthodes de la class java.lang.Math et autorise l'invocation de celles-ci avec leur nom.<br>
Cette table ne recense que les méthodes (ici fonctions) dont la valeur
de retour est un "double" attendant un ou deux paramètres du même type <i>i.e. double f(double) ou double f(double, double)</i>.
                        <ul><br>
                            <li>Les méthodes à développer sont d'une part des méthodes d'interrogation (des accesseurs) (voir la javadoc <a href="file:///C:/Users/Pulsar/Desktop/new/tp7/tp7_old/doc/index.html" target="_blank">ici</a>)
                <div class="codesource">
                    <code>
                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>boolean&nbsp;</b></font><font color="#000000">cetteMethodeEstPresente</font><font color="#000000">(</font><font color="#000000">String&nbsp;nomDeLaMethode</font><font color="#000000">)</font>
                        <br>
&nbsp;&nbsp;&nbsp;vérifie la présence d'une méthode, par exemple pour
cos(double) ou max(double, double)<br>
                    </code>
                </div>

                                <div class="codesource">
                                    <code>
                                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>boolean&nbsp;</b></font><font color="#000000">cetteMethodeAttendDeuxParametres</font><font color="#000000">(</font><font color="#000000">String&nbsp;nomDeLaMethode</font><font color="#000000">)</font>
                                        <br>
                                        &nbsp;&nbsp;&nbsp;par exemple : max(double, double) attend 2 paramètres,<br>
                                        &nbsp;&nbsp;&nbsp;une exception est levée si cette méthode est absente<br>

                                    </code>
                                </div>
                                <div class="codesource">
                                    <code>
                                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>boolean&nbsp;</b></font><font color="#000000">cetteMethodeAttendUnSeulParametre</font><font color="#000000">(</font><font color="#000000">String&nbsp;nomDeLaMethode</font><font color="#000000">)</font>
                                        <br>
                                        <font color="#ffffff"></font>
                                        <br>
                                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#000000">String</font><font color="#000000">[]&nbsp;</font><font color="#000000">listeDesMethodes</font><font color="#000000">()</font>
                                        <br>
                                        &nbsp;&nbsp;&nbsp;retourne la liste ordonnée des méthodes
                                    </code>
                                </div>
                                <div class="codesource">
                                    <code>
                                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>double&nbsp;</b></font><font color="#000000">invoquer</font><font color="#000000">(</font><font color="#000000">String&nbsp;nomDeLaMethode,double&nbsp;arg1</font><font color="#000000">)</font>
                                        <br>
                                        &nbsp;&nbsp;&nbsp;invocation d'une méthode avec son nom,<br>
&nbsp;&nbsp;&nbsp;une exception est levée si cette méthode est absente
ou un mauvais usage de la fonction appelée<br>
                                    </code>
                                </div>
                                <div class="codesource">
                                    <code>
                                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>double&nbsp;</b></font><font color="#000000">invoquer</font><font color="#000000">(</font><font color="#000000">String&nbsp;nomDeLaMethode,&nbsp;</font><font color="#7f0055"><b>double&nbsp;</b></font><font color="#000000">arg1,&nbsp;</font><font color="#7f0055"><b>double&nbsp;</b></font><font color="#000000">arg2</font><font color="#000000">)</font>
                                    </code>
                                </div>
                            </li><li>et d'autre part l'initialisation du Singleton</li>
                        </ul>
                    </li>
                </ul>
                <p align="center">
                    <img class="win_screenshot" src="images/bluej4.png" height="588" width="716"><br>
                </p>
            </div>

            <div class="paragraphe">
                <b>Note</b> : Utilisez les méthodes <b>getMethod</b> de la classe <b>java.lang.Class</b> et <b>invoke</b> de la classe <b>java.lang.reflect.Method</b>.<br>
                <br>
                <b>Rappel de syntaxe :</b> La déclaration suivante est une déclaration anonyme de tableau :<br>
                <div class="codesource">
                    <code>
                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#000000">Class</font><font color="#000000">[]&nbsp;</font><font color="#000000">t&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">Class</font><font color="#000000">[]{</font><font color="#000000">Integer.class,&nbsp;Integer.TYPE</font><font color="#000000">}</font><font color="#000000">;</font>
                    </code>
                </div>
                <font color="#000000">Integer.class</font> correspond à <font color="#000000">new Integer().getClass()</font> et <font color="#000000">Integer.TYPE<!--/font--> représente le type primitif <font color="#000000">int<!--/font-->.<br>
                <br>
                Ce type de déclaration est attendue par les méthodes <b>getMethod</b> et <b>invoke</b>. 
            </font></font></div>
<font color="#000000"><font color="#000000">            <br>
            </font></font><hr>

<font color="#000000"><font color="#000000">            </font></font><div class="question">
<font color="#000000"><font color="#000000">                <img src="images/question2_1.png" height="80" width="111">
                <span>Ajout dynamique d'observateurs(Observer) et d'écouteurs(Listener)</span>
            </font></font></div>

<font color="#000000"><font color="#000000">            </font></font><div class="paragraphe">
<font color="#000000"><font color="#000000"> Par introspection, nous
souhaitons ajouter ou retirer un ou plusieurs observateurs d'une
instance d'une classe observable, ces ajouts et retraits sont
dynamiques, aucune connaissance du nom des classes à priori n'est
nécessaire.<br>
                <br>
                La signature de la méthode demandée est :<br>
                </font></font><div class="codesource">
<font color="#000000"><font color="#000000">                    <code>
                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">lierObservableEtObserver</font><font color="#000000">(</font><font color="#000000">Object&nbsp;observable,&nbsp;Object&nbsp;observer</font><font color="#000000">)&nbsp;</font><font color="#7f0055"><b>throws&nbsp;</b></font><font color="#000000">Exception&nbsp;</font><font color="#000000">{</font><font color="#000000">...</font><font color="#000000">}</font>
                    </code>
                </font></font></div>
<font color="#000000"><font color="#000000">                Un exemple d'utilisation :<br>
                <br>
                Un "Observable", la classe Entier<br>
                </font></font><div class="codesource">
<font color="#000000"><font color="#000000">                    <code>
                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;class&nbsp;</b></font><font color="#000000">Entier&nbsp;</font><font color="#7f0055"><b>extends&nbsp;</b></font><font color="#000000">Observable</font><font color="#000000">{</font><font color="#000000">....</font>
                    </code>
                </font></font></div>
<font color="#000000"><font color="#000000">                Un "Observer", anonyme...<br>
                </font></font><div class="codesource">
<font color="#000000"><font color="#000000">                    <code>
                        <font color="#000000">obs&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">Observer</font><font color="#000000">(){&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">update</font><font color="#000000">(</font><font color="#000000">....</font><font color="#000000">)})</font><font color="#000000">;</font>
                    </code>
                </font></font></div>
<font color="#000000"><font color="#000000">                <br>
L'exécution de lierObservableEtObserver(e, obs); engendre ensuite, sur
cet exemple l'appel de obs.update à chaque changement d'état de e<br>
                <br>
                Ci-dessous un extrait possible d'une classe de test "ParIntrospectionTest"<br>
                <br>
            </font></font></div>

<font color="#000000"><font color="#000000">            </font></font><div class="codesource">
<font color="#000000"><font color="#000000">                <code>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>private&nbsp;static&nbsp;class&nbsp;</b></font><font color="#000000">Entier&nbsp;</font><font color="#7f0055"><b>extends&nbsp;</b></font><font color="#000000">Observable&nbsp;</font><font color="#000000">{</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>private&nbsp;</b></font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">x;</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#000000">Entier</font><font color="#000000">(</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">x</font><font color="#000000">)&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>this</b></font><font color="#000000">.x&nbsp;=&nbsp;x;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">initialiser</font><font color="#000000">(</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">valeur</font><font color="#000000">)&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>this</b></font><font color="#000000">.x&nbsp;=&nbsp;valeur;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">setChanged</font><font color="#000000">()</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">notifyObservers</font><font color="#000000">()</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#000000">String&nbsp;toString</font><font color="#000000">()&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>return&nbsp;</b></font><font color="#000000">Integer.toString</font><font color="#000000">(</font><font color="#000000">x</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>private&nbsp;</b></font><font color="#000000">Observable&nbsp;obs&nbsp;=&nbsp;</font><font color="#7f0055"><b>null</b></font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">test_lierObservableEtObserver</font><font color="#000000">()&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>try&nbsp;</b></font><font color="#000000">{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Entier&nbsp;e&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">Entier</font><font color="#000000">(</font><font color="#990000">1</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">ParIntrospection.lierObservableEtObserver</font><font color="#000000">(</font><font color="#000000">e,&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">Observer</font><font color="#000000">()&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">update</font><font color="#000000">(</font><font color="#000000">Observable&nbsp;o,&nbsp;Object&nbsp;arg</font><font color="#000000">)&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">ParIntrospectionTest.</font><font color="#7f0055"><b>this</b></font><font color="#000000">.obs&nbsp;=&nbsp;o;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">})</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">e.initialiser</font><font color="#000000">(</font><font color="#990000">3</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">assertNotNull</font><font color="#000000">(</font><font color="#2a00ff">"&nbsp;notification&nbsp;absente&nbsp;???"</font><font color="#000000">,&nbsp;obs</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">assertEquals</font><font color="#000000">(</font><font color="#2a00ff">"&nbsp;pas&nbsp;le&nbsp;bon&nbsp;Observable&nbsp;???"</font><font color="#000000">,&nbsp;e.toString</font><font color="#000000">()</font><font color="#000000">,&nbsp;obs.toString</font><font color="#000000">())</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">assertEquals</font><font color="#000000">(</font><font color="#2a00ff">"&nbsp;pas&nbsp;le&nbsp;bon&nbsp;Observable&nbsp;???"</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">"3"</font><font color="#000000">,&nbsp;obs.toString</font><font color="#000000">())</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}&nbsp;</font><font color="#7f0055"><b>catch&nbsp;</b></font><font color="#000000">(</font><font color="#000000">Exception&nbsp;e</font><font color="#000000">)&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">fail</font><font color="#000000">(</font><font color="#2a00ff">"&nbsp;exception&nbsp;!!!&nbsp;"&nbsp;</font><font color="#000000">+&nbsp;e.getMessage</font><font color="#000000">())</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                </code>
            </font></font></div>

<font color="#000000"><font color="#000000">            </font></font><div class="paragraphe">
<font color="#000000"><font color="#000000">                <b>Proposez les méthodes <i>lierObservableEtObserver</i> et <i>delierObservableEtObserver</i> de la classe ParIntrospection</b><br>

                </font></font><div class="codesource">
<font color="#000000"><font color="#000000">                    <code>
                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">lierObservableEtObserver</font><font color="#000000">(</font><font color="#000000">Object&nbsp;observable,&nbsp;Object&nbsp;observer</font><font color="#000000">)&nbsp;</font><font color="#7f0055"><b>throws&nbsp;</b></font><font color="#000000">Exception</font><font color="#000000">{</font><font color="#000000">....</font>
                        <br>
                        <font color="#ffffff"></font>
                        <br>
                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">delierObservableEtObserver</font><font color="#000000">(</font><font color="#000000">Object&nbsp;observable,&nbsp;Object&nbsp;observer</font><font color="#000000">)&nbsp;</font><font color="#7f0055"><b>throws&nbsp;</b></font><font color="#000000">Exception</font><font color="#000000">{</font><font color="#000000">....</font>
                    </code>
                </font></font></div>
<font color="#000000"><font color="#000000">                (voir la javadoc <a href="./doc/index.html" target="_blank">ici</a>) 
            </font></font></div>
<font color="#000000"><font color="#000000">            <br>
            </font></font><hr>

<font color="#000000"><font color="#000000">            </font></font><div class="question">
<font color="#000000"><font color="#000000">                <img src="images/question2_2.png" height="80" width="111">
                <span>Ajout dynamique d'observateurs et d'écouteurs (suite)</span>
            </font></font></div>

<font color="#000000"><font color="#000000">            </font></font><div class="paragraphe">
<font color="#000000"><font color="#000000">                Selon le même principe que la question précédente, proposez les méthodes <b>lierSourceEtListener</b> et <b>delierSourceEtListener</b>
afin d'ajouter n'importe quel écouteur (XXXXListener) auprès de
n'importe quelle instance qui propose la méthode addXXXXListener<br>
                </font></font><div class="codesource">
<font color="#000000"><font color="#000000">                    <code>
                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">lierSourceEtListener</font><font color="#000000">(</font><font color="#000000">Object&nbsp;source,&nbsp;Object&nbsp;listener</font><font color="#000000">)&nbsp;</font><font color="#7f0055"><b>throws&nbsp;</b></font><font color="#000000">Exception</font><font color="#000000">{</font><font color="#000000">....</font>
                        <br>
                        <font color="#ffffff"></font>
                        <br>
                        <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">delierSourceEtListener</font><font color="#000000">(</font><font color="#000000">Object&nbsp;source,&nbsp;Object&nbsp;listener</font><font color="#000000">)&nbsp;</font><font color="#7f0055"><b>throws&nbsp;</b></font><font color="#000000">Exception</font><font color="#000000">{</font><font color="#000000">....</font>
                    </code>
                </font></font></div>

<font color="#000000"><font color="#000000">                (voir la javadoc <a href="./doc/index.html" target="_blank">ici</a>)<br>
                <br>
            </font></font></div>

<font color="#000000"><font color="#000000">            </font></font><p align="center">
<font color="#000000"><font color="#000000">                A chaque clic sur le bouton ajouter un smiley, un nouveau bouton smile et son smiley apparaissent<br>
                <img class="win_screenshot" src="images/bluej5.png" height="339" width="531">
            </font></font></p>

<font color="#000000"><font color="#000000">            </font></font><div class="paragraphe">
<font color="#000000"><font color="#000000">                <b>Un GIF Animé proposé par M. SADOUK Hamza, auditeur de 2019-2020<br>
</b></font></font>
<div style="text-align: center;"><font color="#000000"><font color="#000000"><b><img style="width: 540px; height: 317px;" alt="" src="images/gif1.gif"></b></font></font><br>
</div>
<font color="#000000"><font color="#000000"><b><br>
<br>
Comportement attendu de Frimousse :</b><br>
                </font></font><ul>
<font color="#000000"><font color="#000000">                    <li><b>dans le même répertoire que cet énoncé :</b><br>
                        <b><font size="3">tp7/&gt; java -jar smiley.jar</font></b></li>
                    
                </font></font></ul>
<font color="#000000"><font color="#000000">            </font></font></div>

<font color="#000000"><font color="#000000">            <br>

            </font></font><div class="paragraphe">
<font color="#000000"><font color="#000000"> Ci dessous un extrait de
la classe JFrameDemo, l'extrait porte sur la méthode déclenchée à
chaque clic sur le bouton "ajouter un smiley", sur ce code : l'ajout
habituel d'un "écouteur" est remplacé par l'ajout de ce même écouteur
par <b>introspection</b>.
            </font></font></div>
<font color="#000000"><font color="#000000">            <br>
            </font></font><div class="codesource">
<font color="#000000"><font color="#000000">                <code>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#000000">boutonAjouter.addActionListener</font><font color="#000000">(</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">ActionListener</font><font color="#000000">()&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">actionPerformed</font><font color="#000000">(</font><font color="#000000">ActionEvent&nbsp;ae</font><font color="#000000">)&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>try&nbsp;</b></font><font color="#000000">{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Smiley&nbsp;smiley&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">Smiley</font><font color="#000000">()</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">JButton&nbsp;jb&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">JButton</font><font color="#000000">(</font><font color="#2a00ff">"smile"</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;jb.addActionListener(smiley);&nbsp;</font><font color="#ff0000"><b>est&nbsp;remplacé&nbsp;par</b></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">ParIntrospection.lierSourceEtListener</font><font color="#000000">(</font><font color="#000000">jb,&nbsp;smiley</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;smiley.addMouseListener(new&nbsp;UnObservateurDeSouris(smiley));</font><font color="#ff0000"><b>&nbsp;est&nbsp;remplacé&nbsp;par</b></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">ParIntrospection.lierSourceEtListener</font><font color="#000000">(</font><font color="#000000">smiley,&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">UnObservateurDeSouris</font><font color="#000000">(</font><font color="#000000">smiley</font><font color="#000000">))</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">JFrameDemo.</font><font color="#7f0055"><b>this</b></font><font color="#000000">.enHaut.add</font><font color="#000000">(</font><font color="#000000">jb</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">JFrameDemo.</font><font color="#7f0055"><b>this</b></font><font color="#000000">.auCentre.add</font><font color="#000000">(</font><font color="#000000">smiley</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">JFrameDemo.</font><font color="#7f0055"><b>this</b></font><font color="#000000">.pack</font><font color="#000000">()</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}&nbsp;</font><font color="#7f0055"><b>catch&nbsp;</b></font><font color="#000000">(</font><font color="#000000">Exception&nbsp;e</font><font color="#000000">)&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">e.printStackTrace</font><font color="#000000">()</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#000000">})</font><font color="#000000">;</font>
                </code>
            </font></font></div>
<font color="#000000"><font color="#000000">            <br>
            </font></font><hr>

<font color="#000000"><font color="#000000">            </font></font><div class="question">
<font color="#000000"><font color="#000000">                <img src="images/question3.png" height="80" width="101"> <span>Une documentation</span>
            </font></font></div>

<font color="#000000"><font color="#000000">            </font></font><div class="paragraphe">
<font color="#000000"><font color="#000000"> Soit à développer un petit
outil ( de génie) logiciel qui, pour une classe donnée, retourne la
liste des méthodes héritées non redéfinies localement.<br>
                <br>
                <b>Complétez la méthode getHeritees de la classe "Introspection" ci dessous</b><br>
            </font></font></div>
<font color="#000000"><font color="#000000">            <br>
            </font></font><div class="codesource">
<font color="#000000"><font color="#000000">                <code>
                    <font color="#7f0055"><b>package&nbsp;</b></font><font color="#000000">question3;</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">java.lang.reflect.Method;</font>
                    <br>
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">java.util.Set;</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#7f0055"><b>public&nbsp;class&nbsp;</b></font><font color="#000000">Introspection&nbsp;</font><font color="#000000">{</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;static&nbsp;</b></font><font color="#000000">Set&lt;Method&gt;&nbsp;getHeritees</font><font color="#000000">(</font><font color="#000000">String&nbsp;nomDeLaClasse</font><font color="#000000">)&nbsp;</font><font color="#7f0055"><b>throws&nbsp;</b></font><font color="#000000">ClassNotFoundException&nbsp;</font><font color="#000000">{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;à&nbsp;compléter</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;à&nbsp;compléter</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>return&nbsp;</b></font><font color="#3f7f5f">/*&nbsp;à&nbsp;modifier&nbsp;*/</font><font color="#7f0055"><b>null</b></font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff"></font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">main</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000">[]&nbsp;</font><font color="#000000">args</font><font color="#000000">)&nbsp;</font><font color="#7f0055"><b>throws&nbsp;</b></font><font color="#000000">ClassNotFoundException&nbsp;</font><font color="#000000">{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>for&nbsp;</b></font><font color="#000000">(</font><font color="#000000">Method&nbsp;m&nbsp;:&nbsp;Introspection.getHeritees</font><font color="#000000">(</font><font color="#2a00ff">"java.util.AbstractCollection"</font><font color="#000000">))&nbsp;{</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">System.out.println</font><font color="#000000">(</font><font color="#000000">m</font><font color="#000000">)</font><font color="#000000">;</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font>
                    <br>
                    <font color="#000000">}</font>
                </code>
            </font></font></div>
<font color="#000000"><font color="#000000">            </font></font><p align="center">
<font color="#000000"><font color="#000000">                L'exécution de la méthode main devrait donner la trace suivante :<br>
                <img class="win_screenshot" src="images/bluej6.png" height="264" width="770">
            </font></font></p>

<font color="#000000"><font color="#000000">            </font></font><div class="paragraphe">
<font color="#000000"><font color="#000000"><b>Un GIF Animé proposé par M. SADOUK Hamza, auditeur de 2019-2020<br>
<br>
</b></font></font>
<div style="text-align: center;"><font color="#000000"><font color="#000000"><b><img style="width: 540px; height: 170px;" alt="" src="images/gif2.gif"></b></font></font><br>
</div>
<font color="#000000"><font color="#000000"><b><br>
Une application réalisant l'affichage des méthodes héritées de quelques classes</b><br>
                </font></font><ul>
<font color="#000000"><font color="#000000">                    <li><b>dans le même répertoire que cet énoncé :</b><br>
                        <b><font size="3">tp7/&gt; java -cp tp7q3.jar question3.Introspection
                        </font></b>
                    </li>
                    <li><b><br>
</b></li> </font></font></ul>

<font color="#000000"><font color="#000000">            </font></font></div>

<font color="#000000"><font color="#000000">        </font></font></div>
<font color="#000000"><font color="#000000">        </font></font><div id="footer">
<font color="#000000"><font color="#000000">            <a class="lien" href="http://jfod.cnam.fr/" target="_blank">JFOD</a> | <a class="lien" href="http://deptmedia.cnam.fr/phpBB3/viewforum.php?f=40" target="_blank">FORUM</a> | <a class="lien" href="http://www.cnam.fr/" target="_blank">CNAM</a>
        </font></font></div>
<font color="#000000"><font color="#000000">    </font></font></div>
</body></html>